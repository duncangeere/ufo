<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8" />
        <title>UFO: Ultra-Low Frequency Oscillator</title>
        <script src="https://cdn.jsdelivr.net/npm/webmidi@latest/dist/iife/webmidi.iife.js"></script>
        <script src="script.js"></script>
        <link rel="stylesheet" href="style.css" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="description" content="UFO: Ultra-Low Frequency Oscillator" />
    </head>
    <body>
        <h1>UFO: Ultra-Low Frequency Oscillator</h1>
        <button id="settings-toggle" onclick="toggleSettingsPanel()">⚙️ Settings</button>
        <div id="settings-panel" class="collapsed">
            <h2>Settings</h2>
            <label for="midi-device-select">MIDI Device:</label>
            <select id="midi-device-select"></select>
            <br />
            <label for="midi-channel-select">Channel:</label>
            <select id="midi-channel-select">
                <!-- Channels 1-16 -->
                <script>
                    for(let i=1;i<=16;i++)document.write(`<option value="${i}">${i}</option>`);
                </script>
            </select>
            <br />
            <label for="midi-cc-select">CC:</label>
            <select id="midi-cc-select">
                <!-- CC 0-127 -->
                <script>
                    for(let i=0;i<=127;i++)document.write(`<option value="${i}">${i}</option>`);
                </script>
            </select>
        </div>
        <div id="permissions">
            <p>This site needs permission to access your loction, and your MIDI devices.</p>
            <button id="grant-permissions" onclick="permissionRequest()">Grant permissions</button>
        </div>
        <div id="iss-data">Loading...</div>
        <div id="user-data">Loading...</div>
        <button id="play-button" onclick="playSound()">Play a test note</button>
    </body>
</html>